(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2097:function(e,t,a){Promise.resolve().then(a.bind(a,1330))},1330:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var s=a(7437),r=a(6648),l=a(2265),n=a(357);let o=e=>{if(!e)return null;let t=e.trim();return t.length?t:null},i=o(n.env.NEXT_PUBLIC_API_BASE_URL)||"";var c=a(2731);let d=e=>null==e?"—":e.toFixed(2),m=e=>null==e?{label:"Confidence pending",className:"badge confidence-medium"}:e>=.75?{label:"High confidence",className:"badge confidence-high"}:e>=.4?{label:"Medium confidence",className:"badge confidence-medium"}:{label:"Emerging fit",className:"badge confidence-low"},u=e=>{if(!e)return"";let t="string"==typeof e.label?e.label:void 0,a="string"==typeof e.code?e.code:void 0,s=null!=t?t:null==a?void 0:a.replace(/_/g," ").toLowerCase(),r="number"==typeof e.score?Math.round(100*e.score):void 0,l="number"==typeof e.weight?Math.round(100*e.weight):void 0,n=void 0!==r?"".concat(r,"%"):void 0!==l?"".concat(l,"%"):void 0;return s&&n?"".concat(s," \xb7 ").concat(n):s||Object.entries(e).filter(e=>{let[,t]=e;return"string"==typeof t||"number"==typeof t}).slice(0,2).map(e=>{let[t,a]=e;return"".concat(t,": ").concat(a)}).join(" \xb7 ")},h=e=>{if(!e)return"";let t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleString()};function p(){let[e,t]=(0,l.useState)("upload"),[a,n]=(0,l.useState)(null),[o,p]=(0,l.useState)(""),[g,x]=(0,l.useState)(""),[f,y]=(0,l.useState)(null),[b,j]=(0,l.useState)([]),[v,N]=(0,l.useState)(!1),[w,k]=(0,l.useState)(!1),[S,T]=(0,l.useState)(null),[C,_]=(0,l.useState)(null),P=async t=>{if(t.preventDefault(),"upload"===e&&!a){_("Choose a resume file to upload.");return}if("paste"===e&&!o.trim()){_("Paste resume text to proceed.");return}N(!0),T(null);try{let t;if("upload"===e&&a){let e=new FormData;e.append("file",a),g.trim()&&e.append("notes",g.trim()),t=await fetch("".concat(i,"/candidates/upload"),{method:"POST",body:e})}else t=await fetch("".concat(i,"/candidates/paste"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:o,notes:g.trim()||null})});if(!t.ok){let e="Upload failed. Check the API logs for more detail.";try{let a=await t.json();e="string"==typeof a.detail?a.detail:e}catch(e){}throw Error(e)}let s=await t.json();y(s.candidate),j([]),T({type:"success",message:"Resume processed. Request matches to see the strongest Waymo roles."})}catch(e){T({type:"error",message:e instanceof Error?e.message:"Something went wrong during upload."})}finally{N(!1)}},W=async()=>{if(!f){T({type:"error",message:"Upload a resume before requesting matches."});return}k(!0),T(null);try{var e,t;let a=await fetch("".concat(i,"/match/candidate/").concat(f.id,"?n=5"));if(!a.ok){let e="Unable to fetch matches.";try{let t=await a.json();e="string"==typeof t.detail?t.detail:e}catch(e){}throw Error(e)}let s=await a.json();j(null!==(t=s.results)&&void 0!==t?t:[]),(null===(e=s.results)||void 0===e?void 0:e.length)||T({type:"success",message:"No immediate matches yet. Try updating the resume or ingesting more jobs."})}catch(e){T({type:"error",message:e instanceof Error?e.message:"Unexpected error fetching matches."})}finally{k(!1)}},B=(0,l.useMemo)(()=>{var e;return(null==f?void 0:null===(e=f.skills)||void 0===e?void 0:e.length)?f.skills.slice(0,10):[]},[f]);return(0,s.jsxs)("main",{children:[(0,s.jsxs)("section",{className:"hero-card card",children:[(0,s.jsxs)("div",{className:"logo-row",children:[(0,s.jsx)(r.default,{src:"https://upload.wikimedia.org/wikipedia/commons/9/9f/Waymo_logo.svg",alt:"Waymo logo",width:70,height:70,priority:!0}),(0,s.jsx)("div",{className:"logo-title",children:"Waymo Role Matcher"})]}),(0,s.jsx)("p",{className:"subtitle",children:"Pair every candidate with the teams that need them most. Upload a resume, review the AI-backed match explanations, and route promising talent in seconds."}),(0,s.jsx)("div",{className:"tag",children:"Powered by Gemini 2.5 Flash insights"})]}),(0,s.jsxs)("section",{className:"card",style:{marginTop:"2rem"},children:[(0,s.jsx)("h2",{children:"1. Add a candidate resume"}),(0,s.jsxs)("div",{className:"tabs",style:{display:"flex",gap:"1rem",marginBottom:"1rem",borderBottom:"1px solid #eee"},children:[(0,s.jsx)("button",{className:"tab-button ".concat("upload"===e?"active":""),onClick:()=>{t("upload"),_(null)},style:{padding:"0.5rem 1rem",border:"none",background:"none",cursor:"pointer",borderBottom:"upload"===e?"2px solid var(--waymo-blue)":"none",fontWeight:"upload"===e?600:400},children:"Upload File"}),(0,s.jsx)("button",{className:"tab-button ".concat("paste"===e?"active":""),onClick:()=>{t("paste"),_(null)},style:{padding:"0.5rem 1rem",border:"none",background:"none",cursor:"pointer",borderBottom:"paste"===e?"2px solid var(--waymo-blue)":"none",fontWeight:"paste"===e?600:400},children:"Paste Text"})]}),(0,s.jsxs)("form",{onSubmit:P,children:["upload"===e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{style:{color:"var(--text-muted)",marginBottom:"1.5rem"},children:"The API stores a text-only copy for matching. PDFs work best, but plain text is supported too."}),(0,s.jsxs)("label",{className:"upload-label",children:[(0,s.jsx)("span",{role:"img","aria-hidden":"true",children:"\uD83D\uDCC4"}),(0,s.jsx)("span",{children:a?a.name:"Choose a resume (PDF or text)"}),(0,s.jsx)("input",{type:"file",accept:".pdf,.txt,.md,.doc,.docx,.rtf",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&(n(a),_(null),T(null))}})]})]}):(0,s.jsx)("textarea",{value:o,onChange:e=>p(e.target.value),placeholder:"Paste resume text here...",style:{width:"100%",minHeight:"200px",padding:"1rem",borderRadius:"8px",border:"1px solid #ccc",fontFamily:"monospace"}}),(0,s.jsxs)("div",{style:{marginTop:"1.5rem"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600},children:"Recruiter Notes (Optional)"}),(0,s.jsx)("textarea",{value:g,onChange:e=>x(e.target.value),placeholder:"Add context: 'Strong on ML, prefers Seattle', 'Met at conference', etc.",style:{width:"100%",minHeight:"80px",padding:"0.75rem",borderRadius:"8px",border:"1px solid #ccc",fontFamily:"inherit"}})]}),C&&(0,s.jsx)("div",{className:"alert error",style:{marginTop:"1rem"},children:C}),(0,s.jsxs)("div",{className:"actions",style:{marginTop:"1.5rem"},children:[(0,s.jsx)("button",{className:"primary-button",type:"submit",disabled:v,children:v?"Processing…":"upload"===e?"Upload resume":"Process text"}),(0,s.jsx)("small",{children:"We'll index the resume with Gemini embeddings for retrieval."})]})]})]}),f&&(0,s.jsxs)("section",{className:"card",style:{marginTop:"1.75rem"},children:[(0,s.jsx)("h2",{children:"2. Review candidate context"}),(0,s.jsxs)("div",{className:"candidate-overview",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"0.3rem"},children:"Candidate Profile"}),(0,s.jsxs)("div",{style:{color:"var(--text-muted)"},children:["Contact Hidden",f.location?" • ".concat(f.location):""]}),(0,s.jsxs)("div",{style:{color:"var(--text-muted)",marginTop:"0.35rem",fontSize:"0.85rem"},children:["Uploaded ",h(f.created_at)]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"primary-button",type:"button",onClick:W,disabled:w,children:w?"Scoring matches…":"Get top matches"})})]}),(0,s.jsxs)("div",{style:{marginTop:"1.5rem"},children:[(0,s.jsx)("h3",{style:{marginBottom:"0.75rem"},children:"Detected skills"}),B.length?(0,s.jsx)("div",{className:"skill-list",children:B.map(e=>(0,s.jsx)("span",{className:"skill-pill",children:e},e))}):(0,s.jsx)("div",{style:{color:"var(--text-muted)"},children:"No skills extracted yet. Try a richer resume."})]})]}),S&&(0,s.jsx)("div",{className:"alert ".concat("error"===S.type?"error":"success"),style:{marginTop:"1.5rem"},children:S.message}),b.length>0&&(0,s.jsxs)("section",{className:"card",style:{marginTop:"1.75rem"},children:[(0,s.jsx)("h2",{children:"3. Route to the right Waymo roles"}),(0,s.jsx)("p",{style:{color:"var(--text-muted)",marginBottom:"1.25rem"},children:"Each card blends retrieval scores, reranker feedback, and Gemini explanations so you can take action fast."}),(0,s.jsx)("div",{className:"match-grid",children:b.map(e=>{var t;let a=m(e.confidence);return(0,s.jsxs)("article",{className:"match-card",children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"0.5rem"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{marginBottom:"0.35rem"},children:e.job.title}),(0,s.jsxs)("div",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:[null!==(t=e.job.team)&&void 0!==t?t:"Team TBD"," ",e.job.location?"• ".concat(e.job.location):""]})]}),(0,s.jsx)("span",{className:a.className,children:a.label})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",fontSize:"0.85rem"},children:[(0,s.jsxs)("span",{className:"tag",children:["Retrieval ",d(e.retrieval_score)]}),(0,s.jsxs)("span",{className:"tag",children:["Rerank ",d(e.rerank_score)]}),(0,s.jsxs)("span",{className:"tag",children:["Confidence ",d(e.confidence)]})]}),e.explanation&&(0,s.jsx)("div",{className:"markdown-content",style:{color:"var(--text-muted)",lineHeight:1.55,marginTop:"1rem"},children:(0,s.jsx)(c.UG,{children:e.explanation})}),e.reason_codes&&e.reason_codes.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"0.8rem",fontWeight:700,marginBottom:"0.5rem",color:"var(--text-muted)"},children:"Why it surfaced"}),(0,s.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:e.reason_codes.map((e,t)=>({reason:e,label:u(e),index:t})).filter(e=>e.label).map(e=>(0,s.jsx)("span",{className:"reason-chip",children:e.label},e.index))})]}),e.job.absolute_url&&(0,s.jsx)("a",{href:e.job.absolute_url,target:"_blank",rel:"noreferrer",style:{marginTop:"auto",fontWeight:600,color:"var(--waymo-blue)"},children:"Open job posting →"})]},e.job.id)})})]})]})}}},function(e){e.O(0,[964,971,23,744],function(){return e(e.s=2097)}),_N_E=e.O()}]);